Timing tests using file descriptors:

Threaded:

[jimg@wasabi pthreads_test]$ time ./p_test -t -T -m -r 5 AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf > tmp
File name: AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf, Repetitions: 5
file is 398587588 bytes.
open and read...
time to read: 0.237302
writing using a child thread...
time to fork thread: 7.6e-05
open and read...
time to read: 0.334603
time for child thread write: 0.718818
writing using a child thread...
time to fork thread: 4.4e-05
open and read...
time to read: 0.336999
writing using a child thread...
time for child thread write: 1.09323
time to fork thread: 0.232149
open and read...
time to read: 0.26418
writing using a child thread...
time for child thread write: 5.2851
time to fork thread: 4.65995
open and read...
time to read: 0.266856
writing using a child thread...
time for child thread write: 5.44048
time to fork thread: 4.75908
time for child thread write: 14.2632

real	0m27.888s
user	0m1.473s
sys	0m5.971s
[jimg@wasabi pthreads_test]$ time ./p_test -t -T -m -r 5 AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf 2> tmp

real	0m27.556s
user	0m1.562s
sys	0m6.222s

Sequential:

[jimg@wasabi pthreads_test]$ time ./p_test -T -m -r 5 AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf
File name: AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf, Repetitions: 5
file is 398587588 bytes.
open and read...
time to read: 0.237854
writing sequentially...
time to write: 0.49402
open and read...
time to read: 0.242613
writing sequentially...
time to write: 0.772399
open and read...
time to read: 0.244643
writing sequentially...
time to write: 4.9344
open and read...
time to read: 0.248631
writing sequentially...
time to write: 5.28901
open and read...
time to read: 0.245359
writing sequentially...
time to write: 4.69548

real	0m27.856s
user	0m1.338s
sys	0m4.800s
[jimg@wasabi pthreads_test]$ time ./p_test -T -m -r 5 AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf
File name: AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf, Repetitions: 5
file is 398587588 bytes.
open and read...
time to read: 0.238645
writing sequentially...
time to write: 0.490845
open and read...
time to read: 0.246365
writing sequentially...
time to write: 0.899802
open and read...
time to read: 0.251481
writing sequentially...
time to write: 4.83888
open and read...
time to read: 0.245676
writing sequentially...
time to write: 5.44764
open and read...
time to read: 0.24854
writing sequentially...
time to write: 4.67758

real	0m28.613s
user	0m1.350s
sys	0m4.850s
[jimg@wasabi pthreads_test]$ 

Tests using C++ fstreams:


[jimg@wasabi pthreads_test]$ time ./p_test -t -T -m -r 5 AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf
File name: AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf, Repetitions: 5
file is 398587588 bytes.
open and read...
time to read: 0.239028
writing using a child thread...
time to fork thread: 7.2e-05
open and read...
time to read: 0.336328
writing using a child thread...
time for child thread write: 0.932196
time to fork thread: 0.124804
open and read...
time to read: 0.356777
writing using a child thread...
time for child thread write: 0.76218
time to fork thread: 0.00863
open and read...
time to read: 0.270484
writing using a child thread...
time for child thread write: 5.68786
time to fork thread: 5.10803
open and read...
time to read: 0.272572
writing using a child thread...
time for child thread write: 5.17906
time to fork thread: 4.55919
time for child thread write: 5.61871

real	0m28.328s
user	0m1.474s
sys	0m5.793s
[jimg@wasabi pthreads_test]$ time ./p_test -t -T -m -r 5 AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf
File name: AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf, Repetitions: 5
file is 398587588 bytes.
open and read...
time to read: 0.242768
writing using a child thread...
time to fork thread: 8e-05
open and read...
time to read: 0.333017
writing using a child thread...
time for child thread write: 0.990011
time to fork thread: 0.255251
open and read...
time to read: 0.345511
time for child thread write: 0.734113
writing using a child thread...
time to fork thread: 3.6e-05
open and read...
time to read: 0.268102
writing using a child thread...
time for child thread write: 5.48057
time to fork thread: 4.91858
open and read...
time to read: 0.267633
writing using a child thread...
time for child thread write: 5.4633
time to fork thread: 4.87759
time for child thread write: 5.51606

real	0m28.379s
user	0m1.467s
sys	0m5.781s
[jimg@wasabi pthreads_test]$ time ./p_test -T -m -r 5 AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf
File name: AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf, Repetitions: 5
file is 398587588 bytes.
open and read...
time to read: 0.237244
writing sequentially...
time to write: 0.490721
open and read...
time to read: 0.246005
writing sequentially...
time to write: 0.679239
open and read...
time to read: 0.24861
writing sequentially...
time to write: 5.07161
open and read...
time to read: 0.248685
writing sequentially...
time to write: 4.96556
open and read...
time to read: 0.248871
writing sequentially...
time to write: 4.7528

real	0m27.870s
user	0m1.306s
sys	0m4.995s
[jimg@wasabi pthreads_test]$ time ./p_test -T -m -r 5 AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf
File name: AIRS.2002.09.01.L3.RetStd001.v6.0.9.0.G13208004820.hdf, Repetitions: 5
file is 398587588 bytes.
open and read...
time to read: 0.238077
writing sequentially...
time to write: 0.497105
open and read...
time to read: 0.24487
writing sequentially...
time to write: 0.847064
open and read...
time to read: 0.244455
writing sequentially...
time to write: 4.89132
open and read...
time to read: 0.246321
writing sequentially...
time to write: 4.94546
open and read...
time to read: 0.243297
writing sequentially...
time to write: 4.92661

real	0m27.948s
user	0m1.290s
sys	0m4.991s
[jimg@wasabi pthreads_test]$ 
